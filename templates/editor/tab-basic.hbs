<section class="tab {{tab.cssClass}}" data-tab="{{tab.id}}" data-group="{{tab.group}}">
  {{!-- Calendar Selector --}}
  <div class="template-selector">
    <select name="calendarSelect">
      <option value="">{{localize "CALENDARIA.Editor.SelectCalendar"}}</option>
      {{#each templates}}
        <option value="{{this.id}}">{{this.name}}{{#if this.isCustom}} ({{localize "CALENDARIA.Editor.Custom"}}){{/if}}
        </option>
      {{/each}}
    </select>
    <button type="button" data-action="loadCalendar">
      <i class="fas fa-file-import"></i>
      {{localize "CALENDARIA.Editor.LoadCalendar"}}
    </button>
  </div>

  {{!-- Calendar Identity --}}
  <fieldset>
    <legend>{{localize "CALENDARIA.Editor.Section.CalendarIdentity"}}</legend>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Editor.Field.Name"}}</label>
      <div class="form-fields">
        <input type="text" name="name" value="{{calendar.name}}"
          placeholder="{{localize 'CALENDARIA.Editor.Placeholder.Name'}}" required>
      </div>
    </div>

    <div class="form-group">
      <label>{{localize "CALENDARIA.Editor.Field.System"}}</label>
      <div class="form-fields">
        <input type="text" name="metadata.system" value="{{calendar.metadata.system}}"
          placeholder="{{localize 'CALENDARIA.Editor.Placeholder.System'}}">
      </div>
      <p class="hint">{{localize "CALENDARIA.Editor.Hint.System"}}</p>
    </div>

    <div class="form-group stacked">
      <label>{{localize "CALENDARIA.Editor.Field.Description"}}</label>
      <textarea name="metadata.description" rows="2"
        placeholder="{{localize 'CALENDARIA.Editor.Placeholder.Description'}}">{{calendar.metadata.description}}</textarea>
    </div>
  </fieldset>

  {{!-- Year Settings Row --}}
  <div class="flexrow" style="gap: 1rem;">
    <fieldset style="flex: 1;">
      <legend>{{localize "CALENDARIA.Editor.Section.YearSettings"}}</legend>

      <div class="form-group">
        <label>{{localize "CALENDARIA.Editor.Field.YearZero"}}</label>
        <div class="form-fields fit-content">
          <input type="number" name="years.yearZero" value="{{calendar.years.yearZero}}" step="1" class="year-input">
        </div>
        <p class="hint">{{localize "CALENDARIA.Editor.Hint.YearZero"}}</p>
      </div>

      <div class="form-group">
        <label>{{localize "CALENDARIA.Editor.Field.YearZeroWeekday"}}</label>
        <div class="form-fields fit-content">
          <select name="years.firstWeekday" class="fit-content">
            {{#each weekdayOptions}}
              <option value="{{this.value}}" {{#if this.selected}}selected{{/if}}>{{this.label}}</option>
            {{/each}}
          </select>
        </div>
        <p class="hint">{{localize "CALENDARIA.Editor.Hint.YearZeroWeekday"}}</p>
      </div>
    </fieldset>

    <fieldset style="flex: 1;">
      <legend>{{localize "CALENDARIA.Editor.Section.LeapYear"}}</legend>

      <div class="form-group">
        <label>{{localize "CALENDARIA.Editor.Field.LeapInterval"}}</label>
        <div class="form-fields fit-content">
          <input type="number" name="years.leapYear.leapInterval" value="{{leapInterval}}" step="1" class="year-input">
        </div>
        <p class="hint">{{localize "CALENDARIA.Editor.Hint.LeapIntervalDisable"}}</p>
      </div>

      <div class="form-group">
        <label>{{localize "CALENDARIA.Editor.Field.LeapStart"}}</label>
        <div class="form-fields fit-content">
          <input type="number" name="years.leapYear.leapStart" value="{{leapStart}}" step="1" class="year-input">
        </div>
        <p class="hint">{{localize "CALENDARIA.Editor.Hint.LeapStart"}}</p>
      </div>
    </fieldset>
  </div>
</section>
